# :link: mini-blockchain :key:

Have fun :blush: with Go, NodeJS and Kubernetes building a mini blockchain :
- create a simple blockchain,
- encrypt or get its secured content,
- scale it, 
- check integrity...

The main purpose of this project is to **demonstrate how to communicate between containers in the same Pod using Kubernetes Shared Volumes**.

> disclaimer : this project is used during TRENDev's workshops and demonstrations.

## Build code-generator 
`code-generator` is a Go micro-service continuously generating random secret codes in a JSON file.
The JSON file is shared with the container `blockchain`, which uses the secret codes for block content encryption.
The code size (CODE_SIZE) and the refresh delay (DELAY) can be set as Environment variables.

#### docker commands
`docker build -t trendev/code-generator . && docker push trendev/code-generator`

## Build blockchain services
`blockchain` is a NodeJS micro-service. 
It's a simple Rest API, used to:
- add secured block,
- get secured content,
- check overall integrity.

Before a block is created and added in the chain, its content is encrypted with a random secret code (generated by `code-generator` container). 
Then, when the block is added, the secret code is provided in the HTTP response.
As the secret code is changed many times in a second, if the provided secret code is lost, the block content cannot be decrypted...

#### docker commands
`docker build -t trendev/blockchain . && docker push trendev/blockchain`

## Test with postman (newman)
Test settings can be edited in order to reflect your own configuration
> test files are located in blockchain > test > pm

`newman run mini-blockchain.postman_collection.json -e mini-blockchain.postman_environment.json -n 100`
